# IRQHack64 V2
Software &amp; Hardware stuff for IRQHack64

## Explanation for IRQHack64V2 source code

In the Arduino folder resides IRQHack64 sketch and the libraries it depends. It's been developed with Arduino 1.6.3 version and tested up to versions 1.6.8. 
Flashlib.h in the sketch is being generated by the build scripts of C64 stuff. Warning program & Loader stub are built for C64 and are stored on the Arduino program.


### Descriptions of some artifacts

- Bin2ArdH.exe - Binary dosyayı C header'ı haline dönüştüren bir program. Benzer programlardan farkı oluşturulan diziyi PROGMEM olarak işaretlemesi, böylece dizinin sadece flash'ta saklanması sağlanıyor.
- CreateEpromLoader.exe - 64IRQTransferSoftNewForC64Fast.65s'den üretilen 256 byte'lık esas loader'ı 256 defa duplike eden program. 
Örn. Kullanım şekli : CreateEpromLoader.exe infile outfile 160 191
Burada 160 ve 191 loader içinde 0'dan 255'e kadar sayılarla değiştirilmesi gereken pozisyonları ifade ediyor.
- IRQHackSend.exe - C64'e pc üstünden seri bağlantı ile program göndermeye yarayan örnek program. Pc ile IRQHack64 arasında seri bağlantı sağlandıktan sonra örnek olarak aşağıdaki gibi kullanılabilir. Kullanılan baud rate : 57600
IRQHackSend.exe commando.prg COM3

C64 klasöründe menü ve loader'ın source'ları mevcut,
Dosyaların açıklamaları şu şekilde,

- IRQLoader.65s - IRQHack64 üzerinde bulunan eprom'da çalışan loader'ın kaynak kodu.
- LoaderStub.65s - Yükleme yapıldıktan sonra kaset buffer'ına atılan yüklenen programı çalıştıran kısım.
- IrqLoaderMenuNew.65s - IRQHack64 sketch'ine gömülen c64 menüsünün kaynak kodu.
- IrqLoaderMenu.bas - Menünün başına eklenen basic önyükleyici satırı
- avrincludehead.txt - Flashlib.h'ı oluşturan ilk kısım
- avrincludefoot.txt - Flashlib.h'ı oluşturan son kısım
- Build - I_R_on.bat veya Build - Wizofwor.bat - Loader ve menüyü oluşturmak için kullanılan batch dosya. C64 kodunu derleyebilmek için path üstünde 64tass ve petcat (vice ile beraber geliyor) programları olmalı.
Batch dosya çalıştığında temel olarak 3 adet çıktı üretiyor
- PreBuild.bat, PostBuild.bat - üstteki iki ayrı menü için başta ve sonda ortak kullanılan işlemler
- irqhack64.prg - Build sonrası sd kart'a atılması gereken menü dosyası
- Flashlib.h - Arduino sketch'i içine aktarılacak kodun c header'ı haline getirilmiş hali.
- IRQLoaderRom.bin - 27C512 Eprom'a yazılacak loader. 