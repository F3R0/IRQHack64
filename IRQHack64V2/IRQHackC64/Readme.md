# IRQHack64 V2

## Explanation of IRQHack64V2 source code

In the Arduino folder resides IRQHack64 sketch and the libraries it depends. It's been developed with Arduino 1.6.3 version and tested up to versions 1.6.8. 
Flashlib.h in the sketch is being generated by the build scripts of C64 stuff. Warning program & Loader stub are built for C64 and are stored on the Arduino program.


### **Descriptions of some artifacts**

- Bin2ArdH.exe - Creates C header file from a binary file. Flags array as PROGMEM. 
- CreateEpromLoader.exe - Duplicates the binary generated from IRQLoader.65s 256 times. Given positions in the loader are enumerated 0 through 255.
Ex:  CreateEpromLoader.exe infile outfile 160 191

- IRQHackSend.exe - Uses serial transfer to send a program from PC to Cart. Cart uses  57600 baud rate.
Ex : IRQHackSend.exe commando.prg COM3

### **Building**

First of all dependencies should be satisfied. These two tools should be in the path when you invoke **Build - I_R_on - Menu.bat**.
- Petcat.exe (comes with Vice)
- 64tass (compiler used for the C64 programs)


### **Output**

Outputs are stored in **build** folder after a successful compile of all C64 programs.

**IRQLoaderRom.bin** : You should burn this file to a 27C512 type eprom with an eprom programmer. Unless you change the loader there is no need to burn it again.

**irqhack64.prg** : This is the menu file, menu file should be on the root of the sd card.
**keybooter.prg** : Program that launches prg files 0.prg, 1.prg... 9.prg upon selection of related key (0,1..9). (Not supported by V2 firmware yet.)

**plugins** : This folder contains various plugins used by the menu program. At the moment these files should be put on the root folder of the sd card. Current  plugins support these extensions : 
- .CVID - A custom video format
- .KOA - Koala pictures
- .PETG - PET Graphics
- .WAV - 8 bit 11Khz uncompressed mono audio files
- .PRG - C64 program files.
